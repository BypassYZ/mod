<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>İndirme Sayfası</title>
    <style>
        body {
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden; /* Sayfada kaydırma çubuğu oluşmasını engeller */
        }

        #particles-js {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: #1a1a2e;
            background-image: url(''); /* İsteğe bağlı arkaplan resmi */
            background-size: cover;
            background-position: 50% 50%;
            background-repeat: no-repeat;
            z-index: -1; /* Animasyonun diğer içeriklerin arkasında kalmasını sağlar */
        }

        .content {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            text-align: center;
            color: white;
        }

        #downloadButton {
            padding: 18px 35px;
            font-size: 1.5em;
            font-weight: bold;
            color: #ffffff;
            background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease-in-out;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        #downloadButton:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        #downloadButton:active {
            transform: translateY(1px);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        #downloadButton:disabled {
            background: #555;
            cursor: not-allowed;
            transform: none;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body>
    <div id="particles-js"></div>
    <div class="content">
        <button id="downloadButton">İndir</button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script>
        /* particles.js animasyonunu başlat */
        particlesJS('particles-js', {
          "particles": {
            "number": { "value": 80, "density": { "enable": true, "value_area": 800 } },
            "color": { "value": "#ffffff" },
            "shape": { "type": "circle" },
            "opacity": { "value": 0.5, "random": false },
            "size": { "value": 3, "random": true },
            "line_linked": { "enable": true, "distance": 150, "color": "#ffffff", "opacity": 0.4, "width": 1 },
            "move": { "enable": true, "speed": 6, "direction": "none", "random": false, "straight": false, "out_mode": "out", "bounce": false }
          },
          "interactivity": {
            "detect_on": "canvas",
            "events": { "onhover": { "enable": true, "mode": "repulse" }, "onclick": { "enable": true, "mode": "push" }, "resize": true },
            "modes": { "repulse": { "distance": 100, "duration": 0.4 }, "push": { "particles_nb": 4 } }
          },
          "retina_detect": true
        });

        /* Geliştirilmiş indirme düğmesi işlevselliği */
        document.addEventListener('DOMContentLoaded', () => {
            const downloadButton = document.getElementById('downloadButton');
            let downloadUrl = null;

            // Sayfa yüklenince linki al ve hazırda tut
            fetch('link.txt')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Dosya bulunamadı veya sunucu hatası.');
                    }
                    return response.text();
                })
                .then(url => {
                    const trimmedUrl = url.trim();
                    if (trimmedUrl) {
                        downloadUrl = trimmedUrl;
                    } else {
                        throw new Error('Link dosyası boş.');
                    }
                })
                .catch(error => {
                    console.error('Link alınamadı:', error.message);
                    downloadButton.textContent = 'Link Hatalı';
                    downloadButton.disabled = true;
                });

            // Düğmeye tıklandığında hazır olan linki kullan
            downloadButton.addEventListener('click', () => {
                if (downloadUrl) {
                    window.location.href = downloadUrl;
                }
            });
        });
    </script>
</body>
</html>
